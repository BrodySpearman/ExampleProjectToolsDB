{% extends "base.html" %}
{% block table %}
    <table id="employee_table" class="display display_table">
        <thead>
            <tr>
                {% for name in get_table_info.columns %}
                    <th>{{ name }}</th>
                {% endfor %}
            </tr>
        </thead>
    </table>
    <script>
    $(document).ready(function() {
        var editor = new $.fn.dataTable.Editor({
            ajax: {
                create: {
                    type: 'POST',
                    url: '/create_employee',
                }
            },
            table: '#employee_table',
            fields: [
                { label: 'Employee ID', name: 'EmployeeID' },
                { label: 'First Name', name: 'FirstName' },
                { label: 'Last Name', name: 'LastName' }
            ]
        });

        var toolTable = $('#tool_table').DataTable({
            processing: true,
            serverSide: true,
            serverMethod: 'post',
            ajax: {
                'url': '/ajaxemployees'
            },
            searching: true,
            sort: false,
            serverSide: true,
            columns: [
                { data: 'EmployeeID'},
                { data: 'FirstName'},
                { data: 'LastName'}
            ],
            layout: {
                topStart: {
                    buttons: [
                        { extend: 'create', editor: editor },
                        { extend: 'edit', editor: editor },
                        { extend: 'remove', editor: editor }
                    ]
                }
            }
        });
    });
    </script>
{% endblock %}